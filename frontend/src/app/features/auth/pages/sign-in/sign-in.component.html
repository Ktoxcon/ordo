<mat-card-header>
  <mat-card-title>Sign In To Your Account</mat-card-title>
  <mat-card-subtitle>
    Don't have an account? <a routerLink="/auth/sign-up"> Sign Up </a>
  </mat-card-subtitle>
</mat-card-header>

<mat-card-content class="auth-form__content">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field class="auth-form__input" appearance="outline">
      <mat-label>Email</mat-label>
      <input
        matInput
        type="email"
        formControlName="email"
        autocomplete="email"
        required
      />

      @if (email.hasError('required') && touched ) {
      <mat-error>Email is required </mat-error>
      } @if (email.hasError('email') && touched ) {
      <mat-error>Invalid email</mat-error>
      }
    </mat-form-field>

    <mat-card-actions class="auth-form__actions">
      @if (error) {
      <p class="text-red-600 text-sm mt-2">Unexpected error</p>
      }
      <button
        mat-flat-button
        color="primary"
        type="submit"
        [disabled]="form.invalid || loading"
      >
        @if (loading) { Almost there...
        <mat-progress-bar class="mt-4" mode="indeterminate"></mat-progress-bar>
        } @else { Sign In }
      </button>
    </mat-card-actions>
  </form>
</mat-card-content>
